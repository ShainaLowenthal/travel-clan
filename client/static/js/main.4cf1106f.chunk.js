(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{146:function(e,t,a){e.exports=a(290)},238:function(e,t,a){},287:function(e,t){},290:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(136),l=a.n(r),s=(a(238),a(292)),u=a(13),i=a(10),m=a(11),o=a(14),h=a(12),p=a(15),b=a(294),d=a(140),E=a(293),f=a(296),g=a(295),O=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=function(t){return e.props.messages.filter(function(e){return e.channelId===t})},a=t(1),n=t(2),r=t(3),l=t(4);return c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement(g.a,{to:"/channels/1",activeClassName:"active"},c.a.createElement("span",null,"# really_random"),c.a.createElement("span",{className:"badge"},a.length))),c.a.createElement("li",null,c.a.createElement(g.a,{to:"/channels/2",activeClassName:"active"},c.a.createElement("span",null,"# generally_speaking"),c.a.createElement("span",{className:"badge"},n.length))),c.a.createElement("li",null,c.a.createElement(g.a,{to:"/channels/3",activeClassName:"active"},c.a.createElement("span",null,"# dogs_of_fullstack"),c.a.createElement("span",{className:"badge"},r.length))),c.a.createElement("li",null,c.a.createElement(g.a,{to:"/channels/4",activeClassName:"active"},c.a.createElement("span",null,"# lunch_planning"),c.a.createElement("span",{className:"badge"},l.length))))}}]),t}(n.Component),v=Object(f.a)(Object(u.b)(function(e){return{messages:e.messages}})(O)),j=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return c.a.createElement("section",{className:"sidebar"},c.a.createElement("div",{className:"sidebar-header"},c.a.createElement("h3",{href:"#"},c.a.createElement("div",null,"Clan Chat"),c.a.createElement("i",{alt:"Brand",className:"glyphicon glyphicon-comment"}))),c.a.createElement("h5",null,"Channels"),c.a.createElement(v,null))}}]),t}(n.Component),y=a(24),N=a(145),S=a(57),C=a(40),w=a.n(C),_=a(82),k=a(34),M=a(142),I=a(143),G=a(83),R=a.n(G),T=a(144),x=a.n(T)()(window.location.origin);x.on("connect",function(){console.log("I am now connected to the server!")}),x.on("new-message",function(e){B.dispatch(F(e))});var A=x,D=function(e){return{type:"GOT_MESSAGES_FROM_SERVER",messages:e}},F=function(e){return{type:"GOT_NEW_MESSAGE",message:e}},W={messages:[],user:"Cody"},B=Object(k.createStore)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GOT_MESSAGES_FROM_SERVER":return Object(S.a)({},e,{messages:t.messages});case"GOT_NEW_MESSAGE":return Object(S.a)({},e,{messages:[].concat(Object(N.a)(e.messages),[t.message])});case"USER_SET":return Object(S.a)({},e,{user:t.payload});default:return e}},Object(I.composeWithDevTools)(Object(k.applyMiddleware)(M.a))),J=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(o.a)(this,Object(h.a)(t).call(this))).handleChange=e.handleChange.bind(Object(y.a)(e)),e}return Object(p.a)(t,e),Object(m.a)(t,[{key:"handleChange",value:function(e){var t=e.target.value;this.props.userSet(t)}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"name"},"Your name:"),c.a.createElement("input",{name:"name",onChange:this.handleChange,value:this.props.userName}))}}]),t}(c.a.Component),U=Object(u.b)(function(e){return{userName:e.user}},function(e){return{userSet:function(t){return e({type:"USER_SET",payload:t})}}})(J),V=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return c.a.createElement("nav",null,c.a.createElement("h3",null,"# channelname goes here"),c.a.createElement(U,null))}}]),t}(n.Component);function Y(e){var t=e.message;return c.a.createElement("li",{className:"media"},c.a.createElement("div",{className:"media-left"},c.a.createElement("a",{href:"#"},c.a.createElement("img",{className:"media-object",src:t.author.image,alt:"image"}))),c.a.createElement("div",{className:"media-body"},c.a.createElement("h4",{className:"media-heading"},t.author.name),t.content))}var q=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(o.a)(this,Object(h.a)(t).call(this))).handleSubmit=e.handleSubmit.bind(Object(y.a)(e)),e}return Object(p.a)(t,e),Object(m.a)(t,[{key:"handleSubmit",value:function(e){e.preventDefault();var t=e.target.content.value;this.props.submitMessage({content:t,channelId:this.props.channelId})}},{key:"render",value:function(){return c.a.createElement("form",{id:"new-message-form",onSubmit:this.handleSubmit},c.a.createElement("div",{className:"input-group input-group-lg"},c.a.createElement("input",{className:"form-control",type:"text",name:"content",placeholder:"Say something nice..."}),c.a.createElement("span",{className:"input-group-btn"},c.a.createElement("button",{className:"btn btn-default",type:"submit"},"Chat!"))))}}]),t}(n.Component),z=Object(u.b)(null,function(e){return{submitMessage:function(t){return e(function(e){return function(){var t=Object(_.a)(w.a.mark(function t(a,n){var c,r;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.name=n().user,t.next=3,R.a.post("/api/messages",e);case 3:c=t.sent,r=c.data,a(F(r)),A.emit("new-message",r);case 7:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}()}(t))}}})(q),H=Object(f.a)(Object(u.b)(function(e){return{messages:e.messages}},null)(function(e){var t=Number(e.match.params.channelId),a=e.messages.filter(function(e){return e.channelId===t});return c.a.createElement("div",null,c.a.createElement("ul",{className:"media-list"},a.map(function(e){return c.a.createElement(Y,{message:e,key:e.id})})),c.a.createElement(z,{channelId:t}))})),K=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.loadMessages()}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(j,null),c.a.createElement(V,null),c.a.createElement("main",null,c.a.createElement(b.a,null,c.a.createElement(d.a,{path:"/channels/:channelId",component:H}),c.a.createElement(E.a,{to:"/channels/1"}))))}}]),t}(n.Component),L=Object(f.a)(Object(u.b)(null,function(e){return{loadMessages:function(){return e(function(){var e=Object(_.a)(w.a.mark(function e(t){var a,n;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.get("/api/messages");case 2:a=e.sent,n=a.data,t(D(n));case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())}}})(K));l.a.render(c.a.createElement(u.a,{store:B},c.a.createElement(s.a,null,c.a.createElement(L,null))),document.getElementById("app"))}},[[146,1,2]]]);
//# sourceMappingURL=main.4cf1106f.chunk.js.map